IF OBJECT_ID ('usp_claimstatus_retrieve') IS NOT NULL
	DROP PROCEDURE [dbo].usp_claimstatus_retrieve
GO

CREATE PROCEDURE dbo.[usp_claimstatus_retrieve] 
(
	 @claim_Id char(12)
)
    
AS    
/*********************************************************************************
*	Revision History
*
*	Name: usp_claimstatus_retrieve
*	Description: get the current status of a particular claim
*
*	Date:		Author:		Ref#:			Comments:
*	10/19/10	JVillas		7446			Added status_14
*	10/19/10	EBrosas		7446			Removed Manually Override Status fields.
*	10/16/09	MLim		N/A				Added validation of VHI membership ID length
* 	03/03/09    MLim        N/A				Added case number field for e-resubmission index file
*	10/22/08	TMalana						Renamed has_auto_ready_claim_level to has_claim_level_activity_settings
*	05/17/08	TMalana		CCF#20080028	Added new fields
*	05/21/08	MLim		CCF#20080021	Removed status 1-9 and 12
*	03/14/08	RFernando	CCF#20080008	Updated to include retrieval of 
*											referred to debt collection agency
*											status and collection agent	
*	05/23/07	Rfernando	N/A				Updated for Batch 2	
*	02/27/07	Rfernando	N/A				Added claim_value_updated in the select statement,
*											Updated status field names				
*	02/27/07	Rfernando	N/A				Updated -major revision
*
**********************************************************************************/


SELECT	
		[claim_status]
		,[claim_status_reason]
		,[claim_status_date]
		,[claim_value_updated]
		,[status_10]
		,[status_11]
		,[status_13]
		,[status_14]
		,[collection_agent]
		,[batch_id]
		,[claim_status_id]
		,[claim_id]
		,[claim_type]
		,[manual_ready_for_submission]
		,[has_claim_level_activity_settings]
		,[is_auto_ready]
		,[case_number]
		,[validate_membership_id]
FROM	
		[dbo].Claim c INNER JOIN
		[dbo].Insurer i ON c.system_insurer_id = i.system_insurer_id
WHERE	
		claim_id = @claim_id
GO
